# PACAF AIRLIFT DEMO — FULL SYSTEM SPECIFICATION  
### Version: 1.0 (December 2025)  
### Authoring Mode: ChatGPT Rebuild — Single File  
### Scope: Demo system for PACAF fighter package movement estimation, load‑planning, ICODES‑style outputs, and AI summarization.

---

# 0. PURPOSE & OVERVIEW

This document defines the **complete system specification** for the PACAF Airlift Demonstration Tool.  
The tool must:

1. Accept a **sanitized expanded UTC dataset** (the Movement List provided by PACAF).
2. Parse, validate, classify, and summarize all equipment/personnel.
3. Compute the **required number of aircraft** to move the package (C‑17 or C‑130).
4. Apply correct **463L pallet system rules**, aircraft limits, ramp limits, floor loading constraints, rolling‑stock rules, and pallet height/weight restrictions.
5. Algorithmically generate **load plans per aircraft**.
6. Produce **ICODES‑style visual diagrams**.
7. Export a consolidated **A2I‑attachable PDF bundle**.
8. Provide **AI‑driven summaries, insights, anomaly detection, and optimization recommendations**.
9. Function **offline**, be **deterministic**, and generate load plans in **under 10 seconds per run**.
10. Support urgent “go‑to meeting” workflows where leadership needs **instant aircraft counts**.

This spec blends the needs of the December 19th PACAF meeting with robust architecture so future developers can generalize the code.

---

# 1. SYSTEM ARCHITECTURE

┌──────────────────────┐
│ Input Layer │ ← CSV/PDF sanitized UTC data
└──────────┬───────────┘
▼
┌──────────────────────┐
│ Data Parser & │
│ Validation Engine │ ← schema checks, error surfacing
└──────────┬───────────┘
▼
┌──────────────────────┐
│ Normalization Layer │ ← unit normalization, type tagging
└──────────┬───────────┘
▼
┌───────────────────────────────┐
│ Classification & Segmentation │ ← ADVON/main, rolling stock, pallets
└──────────┬────────────────────┘
▼
┌───────────────────────────────┐
│ Palletization Engine │ ← prebuilt + generated pallets
└──────────┬────────────────────┘
▼
┌───────────────────────────────┐
│ Aircraft Allocation Solver │ ← weight, pallet, rolling stock, CoB
└──────────┬────────────────────┘
▼
┌───────────────────────────────┐
│ ICODES‑style Render Engine │
└──────────┬────────────────────┘
▼
┌───────────────────────────────┐
│ Output Layer (PDF, JSON) │
└──────────┬────────────────────┘
▼
┌───────────────────────────────┐
│ AI Insights Engine │
└───────────────────────────────┘

yaml
Copy code

---

# 2. INPUT SPECIFICATION

The sanitized PACAF Movement List must be provided as **CSV or JSON** with the following required schema:

item_id: string or int
utc_id: string
description: string
quantity: int
weight_each_lb: float
length_in: float
width_in: float
height_in: float
type: "ROLLING_STOCK" | "PALLETIZABLE" | "PREBUILT_PALLET" | "PAX"
advon_flag: boolean
hazmat_flag: boolean
pallet_id: optional string
axle_weights: optional array[float]

markdown
Copy code

## 2.1 Robust Error Handling Requirements

When parsing input:

- Missing required fields → `ERR_MISSING_FIELD`
- Non‑numeric dimensions → `ERR_DIMENSION_INVALID`
- Zero or negative weight/dimensions → `ERR_PHYSICAL_INVALID`
- Impossible pallet height/weight combos → warning (`WARN_PALLET_OVERSPEC`)
- Over‑dimensioned items → flagged with specific guidance (`WARN_OVERSIZE_ITEM`)
- Unknown types → `ERR_UNKNOWN_TYPE`

All errors must produce:

- Human-readable messages  
- Developer diagnostics  
- Suggested fixes  

The system **must never silently fail**.

---

# 3. CLASSIFICATION & SEGMENTATION

The system automatically separates:

### 3.1 By Phase:
- `advon_items = items where advon_flag = true`
- `main_items = all other items`

### 3.2 By Cargo Type:
- `rolling_stock = items[type=ROLLING_STOCK]`
- `prebuilt_pallets = items[type=PREBUILT_PALLET]`
- `loose_items = items[type=PALLETIZABLE]`
- `pax_items = items[type=PAX]`

PACAF guidance:

- **ADVON must be loaded first**.
- Items can mix across UTCs.
- Prebuilt pallets **must not** be broken apart.
- Rolling stock loads **first** on every aircraft.

---

# 4. 463L PALLET SYSTEM — HARD DATA

Derived from DoD public manuals, 463L engineering sheets, and aircraft loading doctrine.  

### 4.1 Physical Specs  
- Dimensions: **108 × 88 × 2.25 in**  
- Usable area: **104 × 84 in**  
- Tare weight: **290 lb**  
- Pallet + nets: **355 lb**  

### 4.2 Weight Limits  
| Height Range | Max Payload |
|--------------|-------------|
| ≤ 96 in      | 10,000 lb   |
| 96–100 in    | 8,000 lb    |

### 4.3 Tiedown Rings  
- 22 rings  
- Rated at 7,500 lb each  

### 4.4 Pressure Limit  
- Floor loading: **250 lb/sq in**

### 4.5 Validator Rules
- Reject items exceeding usable footprint (104 × 84).
- Reject loads exceeding height/weight envelopes.
- Warn on questionable density values.

---

# 5. AIRCRAFT SPECIFICATIONS

All values derived from the PDFs you uploaded and public technical fact sheets.

---

## 5.1 C‑17 Globemaster III

### Cargo Compartment
- Length: **1056 in**  
- Width: **216 in**  
- Height: **148 in**

### Pallet Stations
- **18** pallet positions (LGS)
- Ramp positions (#17–18) have lower limits.

### Payload
- Max cargo weight: **170,900 lb**  
- Per pallet position:
  - Positions 1–16: **10,000 lb**
  - Ramp positions: **7,500 lb**

### Floor Load Limits
- Between 50–250 lb/sq in depending on location (use uniform 100 psi for demo).

### CoB Envelope (simplified)
- Must remain within **20%–35% fuselage length from datum**.
- Datum at nose.

---

## 5.2 C‑130H/J Standard Body

### Cargo Compartment
- Length: **492 in**
- Width: **123 in**
- Height: **108 in**

### Pallet Stations
- **6** positions

### Payload
- Max payload (ACL): **42,000 lb**

### Pallet Weight Limit
- ≤10,000 lb each

### CoB Envelope
- System displays but does not enforce tightly in demo.

---

# 6. PALLETIZATION ENGINE

## 6.1 Prebuilt Pallets
These come directly from input and must be validated but not modified.

Representation:
struct Pallet {
id
items[]
gross_weight
height
hazmat_flag
}

markdown
Copy code

## 6.2 Dynamic Pallet Construction (Loose Items)
Algorithm:

1. Sort items by **descending footprint area** then **weight**.
2. Start new pallet `P`.
3. For each item:
   - If item fits (L ≤ 104, W ≤ 84, height ≤ 96):
     - Try to pack via 2D bin‑packing heuristic.
   - Check weight constraint.
4. When full:
   - Finalize as new pallet.
   - Continue.

---

# 7. ROLLING STOCK PLACEMENT

### Rules:
- Loaded **before pallets**.
- Must obey:
  - Floor loading
  - Ramp angle rules (max angle 15°)
  - Width ≤ 144 in for C‑17; ≤118 in for C‑130 ramp clearance
  - Height ≤ 142 (C‑17) or ≤102 (C‑130)

### Representation:
struct VehiclePlacement {
item_id
weight
length
width
height
axle_weights[]
position (x,y,z)
}

yaml
Copy code

---

# 8. AIRCRAFT ALLOCATION SOLVER

## 8.1 Step 1 — Compute Minimum Aircraft

N_pallet = ceil(total_pallets / aircraft.maxPallets)
N_weight = ceil(total_weight / aircraft.maxPayload)
num_aircraft = max(N_pallet, N_weight)

yaml
Copy code

## 8.2 Step 2 — Per‑Aircraft Loading

For each aircraft:

1. Place rolling stock (descending length then weight).
2. Place pallets by:
   - Validating per‑station weight
   - Ensuring hazard flags handled correctly
3. Compute aircraft weight total.

If leftover items remain:
`num_aircraft += 1` and rerun.

---

# 9. CENTER OF BALANCE (CoB)

### Formula:

Total Weight W = Σ wi
Total Moment M = Σ (wi * xi)
CoB = M / W

yaml
Copy code

Where `xi` is the position of pallet/vehicle measured from aircraft datum.

### Validation:
- Check CoB ∈ allowed range.
- Show bar visualization.
- Warning if outside recommended band.

---

# 10. ICODES‑STYLE RENDER ENGINE

### Required Elements:
- Top-down diagram of aircraft.
- Pallet stations displayed with:
  - ID
  - Weight
  - Hazmat icon
  - Height indicator
- Vehicle silhouettes.
- CoB bar.
- Summary table per aircraft.

### Output Formats:
- PDF (bundled)
- PNG (optional)
- JSON (for toolchain)

---

# 11. A2I EXPORT BUNDLE

Contents:

/overview.pdf
/advon_aircraft_#.pdf
/main_aircraft_#.pdf
/data.json
/metadata.json

yaml
Copy code

Metadata includes:

- Aircraft type  
- Planning factors  
- Load plan checksum  
- Generation timestamp

---

# 12. UI/UX SPECIFICATION

---

## 12.1 Home Screen
- Button: **Upload Movement List**
- Dropdown: **Select Aircraft (C‑17 / C‑130)**
- Button: **Generate Load Plans**

---

## 12.2 Urgent Brief Mode (1-click Output)
Triggered automatically after upload:

Displays:

- ADVON aircraft count
- Main aircraft count
- Total aircraft
- Weight distribution bar
- Top 5 heaviest items
- Immediate “View Load Plans” button

---

## 12.3 Error Surfacing
Every validation error appears as:

[ERROR] Item 22: width 208 in exceeds max allowed 104 in for palletization.
Suggested Fix: Mark as ROLLING_STOCK or confirm dimensions.

yaml
Copy code

---

# 13. AI INSIGHTS ENGINE

## 13.1 Summarization of Movement List
Automatically detect:

- Weight drivers  
- Volume drivers  
- Rolling‑stock risk factors  
- Prebuilt pallet inefficiencies  
- HAZMAT impacts  

## 13.2 Insight Cards Examples
- “Reducing height of pallet group P‑12 by 4 inches increases pallet capacity by 25%.”
- “Vehicle V‑03 exceeds C‑130 ramp width; recommend C‑17 only.”
- “90% of cargo weight is concentrated in 7 items.”

## 13.3 Queryable Explanations
User can ask:

- “Why did the solver choose 3 aircraft?”  
- “What items caused the second C‑17 to be required?”  
- “Which pallet is most weight‑constrained?”

---

# 14. PERFORMANCE REQUIREMENTS

### Offline Execution
- Must run fully disconnected.

### Determinism
- Same input → same output.

### Speed
- Parse + solve + render under **10 seconds**.

### Memory
- Must handle up to **5,000 items**.

---

# 15. ACCEPTANCE CRITERIA

### Functional
- Correct aircraft counts.  
- All items loaded or properly flagged.  
- ICODES‑style diagrams render.  
- A2I bundle generates.

### Visual
- Pallet grid matches C‑17/C‑130 layouts.  
- CoB visualization accurate.

### Demo‑Stage
- Works flawlessly with PACAF sanitized Movement List.

---

# 16. APPENDIX — PLANNING FACTOR TABLES

(Includes all relevant numbers from PDFs, normalized.)

## 16.1 Aircraft Data (From "Military Airlift Capacities and Load Data")
- C‑17 floor loading: 250 lb/sq in  
- C‑130 floor loading: 150 lb/sq in  
- Ramp loading limits: 3,500–5,000 lb per wheel depending on angle  
- Clearance width at ramp:  
  - C‑17: 142–144 in  
  - C‑130: 118–120 in  
- Allowable pallet stacking height: 96 in recommended; 100 max  
- Roller height clearances and shoring requirements included as warnings only.

---

# 17. FUTURE EXPANSION HOOKS

- Import/export ICODES `.txt` schema  
- Mixed‑fleet optimization  
- MOG constraints  
- Full HAZMAT segregation per DTR 4500.9‑R  
- Multi‑objective optimization (speed vs aircraft count vs load distribution)

---

# END OF FILE
